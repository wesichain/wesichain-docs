---
import SiteLayout from '../layouts/SiteLayout.astro';
import CodeComparison from '../components/CodeComparison.astro';
import PainPoints from '../components/PainPoints.astro';
import PerformanceBars from '../components/PerformanceBars.astro';
---

<SiteLayout title="Build LLM Agents in Rust" variant="landing">
  <div class="relative overflow-hidden">
    <!-- Hero Section -->
    <section class="relative pt-16 pb-24 sm:pt-24 sm:pb-32">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h1 class="text-4xl font-bold tracking-tight text-white sm:text-6xl">
            Build composable LLM agents
            <span class="text-rust-500">in Rust</span>
          </h1>
          <p class="mx-auto mt-6 max-w-2xl text-lg text-neutral-400">
            Rust-native agent orchestration with published, reproducible benchmarks.
            Recursive text splitting reaches 201-221 MiB/s in current benchmark artifacts.
          </p>
          <div class="mt-10 flex flex-col sm:flex-row items-center justify-center gap-4">
            <a
              href="/docs/getting-started/installation"
              class="w-full sm:w-auto rounded-full bg-rust-600 px-8 py-3 text-base font-medium text-white hover:bg-rust-700 transition-colors"
            >
              Get Started in 5 Minutes
            </a>
            <a
              href="https://github.com/wesichain/wesichain"
              target="_blank"
              rel="noopener noreferrer"
              class="w-full sm:w-auto rounded-full border border-neutral-700 bg-neutral-900 px-8 py-3 text-base font-medium text-white hover:bg-neutral-800 transition-colors"
            >
              View on GitHub
            </a>
          </div>
        </div>

        <!-- Code Comparison -->
        <div class="mt-8">
          <CodeComparison />
        </div>
      </div>
    </section>

    <!-- Pain Points Section -->
    <PainPoints />

    <!-- Features Section with Code Snippets -->
    <section class="border-y border-neutral-800 bg-neutral-900/50 py-24">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-3xl font-bold tracking-tight text-white sm:text-4xl">
            Everything you need for production agents
          </h2>
          <p class="mt-4 text-lg text-neutral-400">
            Familiar patterns, Rust performance, built for scale
          </p>
        </div>

        <div class="grid gap-8 lg:grid-cols-3">
          <!-- Feature 1: Composable Chains -->
          <div class="rounded-2xl border border-neutral-800 bg-neutral-900 p-6">
            <div class="flex h-12 w-12 items-center justify-center rounded-lg bg-rust-600/10 mb-6">
              <svg class="h-6 w-6 text-rust-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-white mb-2">Composable Chains</h3>
            <p class="text-neutral-400 text-sm mb-4">
              Build LLM workflows using familiar Runnable patterns with LCEL-style composition.
            </p>
            <div class="rounded-lg bg-neutral-950 p-4 border border-neutral-800">
              <pre class="text-xs text-neutral-300 overflow-x-auto"><code set:html={`let chain = prompt
  .then(llm)
  .then(parser)
  .with_retries(3);`} /></pre>
            </div>
            <a href="/docs/guides/architecture-overview" class="mt-4 inline-flex items-center text-sm text-rust-400 hover:text-rust-300">
              Learn more →
            </a>
          </div>

          <!-- Feature 2: Resumable Graphs -->
          <div class="rounded-2xl border border-neutral-800 bg-neutral-900 p-6">
            <div class="flex h-12 w-12 items-center justify-center rounded-lg bg-rust-600/10 mb-6">
              <svg class="h-6 w-6 text-rust-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-white mb-2">Resumable Graphs</h3>
            <p class="text-neutral-400 text-sm mb-4">
              Stateful agent workflows with checkpoint persistence. Pause, resume, and debug with confidence.
            </p>
            <div class="rounded-lg bg-neutral-950 p-4 border border-neutral-800">
              <pre class="text-xs text-neutral-300 overflow-x-auto"><code set:html={`// Checkpoint anywhere
let state = graph.checkpoint().await?;

// Resume later
graph.resume(state).await?;`} /></pre>
            </div>
            <a href="/docs/guides/checkpointing" class="mt-4 inline-flex items-center text-sm text-rust-400 hover:text-rust-300">
              Learn more →
            </a>
          </div>

          <!-- Feature 3: Streaming-First -->
          <div class="rounded-2xl border border-neutral-800 bg-neutral-900 p-6">
            <div class="flex h-12 w-12 items-center justify-center rounded-lg bg-rust-600/10 mb-6">
              <svg class="h-6 w-6 text-rust-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-white mb-2">Streaming-First</h3>
            <p class="text-neutral-400 text-sm mb-4">
              Built for real-time applications with native async/await and streaming support throughout.
            </p>
            <div class="rounded-lg bg-neutral-950 p-4 border border-neutral-800">
              <pre class="text-xs text-neutral-300 overflow-x-auto"><code set:html={`let mut stream = chain.stream(input).await?;
while let Some(chunk) = stream.next().await {
  sse.send(chunk).await?;
}`} /></pre>
            </div>
            <a href="/crate-selector" class="mt-4 inline-flex items-center text-sm text-rust-400 hover:text-rust-300">
              Find your crate →
            </a>
          </div>
        </div>

        <!-- CTA row -->
        <div class="mt-12 text-center">
          <a
            href="/crate-selector"
            class="inline-flex items-center gap-2 rounded-full bg-neutral-800 px-6 py-3 text-sm font-medium text-white hover:bg-neutral-700 transition-colors"
          >
            <span>Not sure which crate you need?</span>
            <span class="text-rust-400">Try the Crate Selector →</span>
          </a>
        </div>
      </div>
    </section>

    <!-- Performance Section -->
    <PerformanceBars />

    <!-- Benchmark Highlights / CTA Section -->
    <section class="py-24 border-t border-neutral-800">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl font-bold tracking-tight text-white sm:text-4xl mb-8">
          Current benchmark highlights
        </h2>

        <!-- Stats -->
        <div class="grid grid-cols-3 gap-8 mb-12">
          <div>
            <div class="text-4xl font-bold text-rust-500">221</div>
            <div class="text-sm text-neutral-400 mt-1">MiB/s peak splitter throughput</div>
          </div>
          <div>
            <div class="text-4xl font-bold text-rust-500">201</div>
            <div class="text-sm text-neutral-400 mt-1">MiB/s at 1 MB input</div>
          </div>
          <div>
            <div class="text-4xl font-bold text-rust-500">2-4x</div>
            <div class="text-sm text-neutral-400 mt-1">vs typical Python splitters</div>
          </div>
        </div>

        <!-- CTA -->
        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
          <a
            href="/docs/getting-started/installation"
            class="w-full sm:w-auto rounded-full bg-rust-600 px-8 py-3 text-base font-medium text-white hover:bg-rust-700 transition-colors"
          >
            Start Building Now
          </a>
          <a
            href="https://github.com/wesichain/wesichain"
            target="_blank"
            rel="noopener noreferrer"
            class="w-full sm:w-auto rounded-full border border-neutral-700 bg-neutral-900 px-8 py-3 text-base font-medium text-white hover:bg-neutral-800 transition-colors"
          >
            Star on GitHub
          </a>
        </div>

        <p class="mt-8 text-sm text-neutral-500">
          Source: wesichain benchmark artifacts. See full methodology on /benchmarks.
        </p>
      </div>
    </section>
  </div>
</SiteLayout>
